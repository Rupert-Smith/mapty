!function(){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,o(t,e,"get"))}function n(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,o(t,e,"set"),n),n}function o(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=u(t);if(e){var r=u(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return s(this,n)}}function s(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?c(e):n}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _=function(){function t(e,n,o){l(this,t),d(this,"date",new Date),d(this,"id",(Date.now()+"").slice(-10)),this.coords=e,this.distance=n,this.duration=o}return f(t,[{key:"_setDescription",value:function(){this.description="".concat(this.type[0].toUpperCase()).concat(this.type.slice(1)," on ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][this.date.getMonth()]," ").concat(this.date.getDate())}}]),t}(),v=function(t){r(n,t);var e=a(n);function n(t,o,r,i){var a;return l(this,n),d(c(a=e.call(this,t,o,r)),"type","running"),a.cadence=i,a.calcPace(),a._setDescription(),a}return f(n,[{key:"calcPace",value:function(){return this.pace=this.duration/this.distance,this.pace}}]),n}(_),h=function(t){r(n,t);var e=a(n);function n(t,o,r,i){var a;return l(this,n),d(c(a=e.call(this,t,o,r)),"type","cycling"),a.elevationGain=i,a.calcSpeed(),a._setDescription(),a}return f(n,[{key:"calcSpeed",value:function(){return this.speed=this.distance/(this.duration/60),this.speed}}]),n}(_),y=new v([39,-12],5.2,24,178),w=new h([39,-12],27,95,523);console.log(y,w);var m=document.querySelector(".form"),k=(document.querySelector(".workouts"),document.querySelector(".form__input--type")),g=document.querySelector(".form__input--distance"),b=document.querySelector(".form__input--duration"),S=document.querySelector(".form__input--cadence"),O=document.querySelector(".form__input--elevation"),P=new WeakMap,M=new WeakMap,W=new WeakMap,F=new WeakMap;new(function(){function t(){l(this,t),P.set(this,{writable:!0,value:void 0}),M.set(this,{writable:!0,value:void 0}),W.set(this,{writable:!0,value:13}),F.set(this,{writable:!0,value:[]}),this._getPosition(),m.addEventListener("submit",this._newWorkout.bind(this)),k.addEventListener("change",this._toggleElevationField)}return f(t,[{key:"_getPosition",value:function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(this._loadMap.bind(this),(function(){alert("Could not get your position")}))}},{key:"_loadMap",value:function(t){var o=t.coords.latitude,r=t.coords.longitude;console.log(o,r),console.log("https://www.google.com/maps/@".concat(o,",").concat(r));var i=[o,r];n(this,P,L.map("map").setView(i,13)),L.tileLayer("https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(e(this,P)),e(this,P).on("click",this._showForm.bind(this))}},{key:"_showForm",value:function(t){n(this,M,t),m.classList.remove("hidden"),g.focus()}},{key:"_hideForm",value:function(){g.value=b.value=S.value=O.value="",m.style.display="none",m.classList.add("hidden"),setTimeout((function(){return m.style.display="grid"}),1e3)}},{key:"_toggleElevationField",value:function(){O.closest(".form__row").classList.toggle("form__row--hidden"),S.closest(".form__row").classList.toggle("form__row--hidden")}},{key:"_newWorkout",value:function(t){var n=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.every((function(t){return Number.isFinite(t)}))},o=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.every((function(t){return t>0}))};t.preventDefault();var r,i=k.value,a=+g.value,s=+g.value,c=e(this,M).latlng,u=c.lat,l=c.lng;if("running"===i){var p=+S.value;if(!n(a,s,p)||!o(a,s,p))return alert("Inputs have to be positive numbers!");r=new v([u,l],a,s,p)}if("cycling"===i){var f=+O.value;if(!n(a,s,f)||!o(a,s,f))return alert("Inputs have to be positive numbers!");r=new h([u,l],a,s,f)}e(this,F).push(r),console.log(r),this._renderWorkoutMarker(r),this._renderWorkout(r),this._hideForm()}},{key:"_renderWorkoutMarker",value:function(t){L.marker(t.coords).addTo(e(this,P)).bindPopup(L.popup({maxWidth:250,minWidth:100,autoClose:!1,closeOnClick:!1,className:"".concat(t.type,"-popup")})).setPopupContent("".concat("running"===t.type?"üèÉ‚Äç‚ôÇÔ∏è":"üö¥‚Äç‚ôÄÔ∏è"," ").concat(t.description)).openPopup()}},{key:"_renderWorkout",value:function(t){var e='<li class="workout workout--'.concat(t.type,'" data-id="').concat(t.id,'">\n          <h2 class="workout__title">').concat(t.description,'</h2>\n          <div class="workout__details">\n            <span class="workout__icon">').concat("running"===t.type?"üèÉ‚Äç‚ôÇÔ∏è":"üö¥‚Äç‚ôÄÔ∏è",'</span>\n            <span class="workout__value">').concat(t.distance,'</span>\n            <span class="workout__unit">km</span>\n          </div>\n          <div class="workout__details">\n            <span class="workout__icon">‚è±</span>\n            <span class="workout__value">').concat(t.duration,'</span>\n            <span class="workout__unit">min</span>\n          </div>');"running"===t.type&&(e+='\n      <div class="workout__details">\n        <span class="workout__icon">‚ö°Ô∏è</span>\n        <span class="workout__value">'.concat(t.pace.toFixed(1),'</span>\n        <span class="workout__unit">min/km</span>\n      </div>\n      <div class="workout__details">\n        <span class="workout__icon">ü¶∂üèº</span>\n        <span class="workout__value">').concat(t.cadence,'</span>\n        <span class="workout__unit">spm</span>\n      </div>\n    </li>')),"cycling"===t.type&&(e+='\n          <div class="workout__details">\n            <span class="workout__icon">‚ö°Ô∏è</span>\n            <span class="workout__value">'.concat(t.speed.toFixed(1),'</span>\n            <span class="workout__unit">km/h</span>\n          </div>\n          <div class="workout__details">\n            <span class="workout__icon">‚õ∞</span>\n            <span class="workout__value">').concat(t.elevationGain,'</span>\n            <span class="workout__unit">m</span>\n          </div>\n        </li>')),m.insertAdjacentHTML("afterend",e)}}]),t}())}();
//# sourceMappingURL=script.399a6f64.js.map
